const mongoose = require('mongoose');
const dotenv = require('dotenv');
dotenv.config();
const BookJurassicPark = require('../../api/models/models.JurassicPark/books.JurassicPark.model');


const arrayBooksJurassicPark = [{
        title: 'Jurassic Park',
        publication_year: 1990,
        saga_index: 1,
        author: 'Michael Crichton',
        resume: 'En 1989, ocurrieron extraños ataques de animales en toda Costa Rica. Se cree que una de las especies detrás de los ataques es el Procompsognathus, una especie de dinosaurio extinta. El paleontólogo Alan Grant y su estudiante graduada en paleobotánica, Ellie Sattler, son contactados para confirmar la identidad del animal, pero son abruptamente llevados por el multimillonario John Hammond, fundador de la empresa de bioingeniería InGen, para una visita de fin de semana a un "reserva biológica" que ha establecido en Isla Nublar. La "reserva" es una tapadera para la construcción de Jurassic Park, un parque temático que muestra dinosaurios vivos. La construcción está casi completa; los dinosaurios han sido recreados utilizando ADN antiguo encontrado en la sangre dentro de insectos que se fosilizaron y se conservaron en ámbar. Los vacíos en el código genético se completaron con ADN reptiliano, aviar o anfibio. Todos los dinosaurios están diseñados para ser hembras para evitar la reproducción no autorizada.                                                                                                                                                                                                                                                               Los recientes ataques han hecho que los inversores de Hammond se pongan nerviosos. Hammond solicita que Grant y Sattler recorran el parque y lo respalden antes de la apertura del parque. Se unen a ellos el matemático y teórico del caos Ian Malcolm, y un abogado que representa a los inversores, Donald Gennaro, ambos pesimistas sobre el parque. Malcolm, consultado antes de la creación del parque, afirma enfáticamente que el parque colapsará. Hammond también invita a sus nietos, Tim y Alexis "Lex" Murphy, a unirse al recorrido. El personal del parque incluye al ingeniero John Arnold, al biotecnólogo Henry Wu, al guardabosques Robert Muldoon, al gerente de relaciones públicas Ed Regis y al veterinario Harding. Mientras recorren el parque, Grant encuentra un cascarón de huevo de Velociraptor, aparentemente probando la afirmación de Malcolm de que los dinosaurios están reproduciéndose en contra del diseño de los genetistas.El descontento jefe programador del software de Jurassic Park, Dennis Nedry, comete espionaje corporativo para Lewis Dodgson, un agente de la empresa rival de InGen, Biosyn. Activando una puerta trasera que escribió en el software del parque, Nedry desactiva los sistemas de seguridad y roba embriones congelados de las quince especies de dinosaurios del parque. Intentando reunirse con el agente de Dodgson, se pierde debido a una tormenta tropical. Sin Nedry para reactivar los sistemas del parque, los dinosaurios pueden vagar libremente. Nedry es asesinado por un Dilophosaurus, y un Tyrannosaurus rex ataca al grupo de turistas. Grant salva a los niños antes de escapar con ellos hacia la jungla, Regis es asesinado por un T. rex juvenil, y Malcolm resulta gravemente herido, pero es rescatado por Muldoon y Gennaro.                                                                                                                                                                                                                                                                  El personal del parque intenta reiniciar las computadoras del parque para revertir el sabotaje de Nedry, pero no se dan cuenta de que solo se reinicia el generador de energía auxiliar. Su suministro de combustible pronto se agota, volviendo a apagar el parque. Los inteligentes y agresivos Velociraptors del parque escapan de su recinto y matan a Arnold y Wu. Grant y los niños regresan al complejo de control de la isla en una balsa por el río de la jungla, escapando por poco de múltiples ataques de dinosaurios. Grant enciende los generadores principales del parque y Tim reactiva los sistemas del parque. Gennaro contacta a un barco de suministros que viaja desde la isla hacia el continente y lo hace regresar, actuando sobre las sospechas de Grant y los niños de que hay dinosaurios a bordo.Hammond, caminando al aire libre mientras contempla el futuro de InGen, es asesinado por un grupo de Procompsognathus después de caer por una colina y romperse el tobillo. Grant deduce que el uso de ADN de rana para llenar los vacíos en el código genético de los dinosaurios resultó en un entorno propicio para la dicogamia, lo que causó que algunos de los dinosaurios hembra se convirtieran en machos y establecieran una población reproductora. La cuenta automatizada de computadora del parque no incluyó a los recién nacidos, ya que se programó para dejar de contar una vez que se encontrara el número total esperado de animales. Grant, Sattler, Muldoon y Gennaro encuentran los nidos salvajes de los velocirraptores y comparan los huevos eclosionados con el recuento de población revisado de la isla, antes de darse cuenta de que los velocirraptores están intentando migrar fuera de la isla.Se supone que Malcolm muere a causa de sus heridas. Todos los demás son evacuados por la Fuerza Aérea de Costa Rica, que ha declarado a los dinosaurios peligrosos y arrasa la isla con napalm. Los sobrevivientes son detenidos en un hotel costarricense. Semanas después, Grant recibe la visita del Dr. Martin Gutiérrez, un médico estadounidense que vive en Costa Rica. Gutiérrez informa a Grant que un grupo desconocido de animales ha estado migrando a través de la selva costarricense, lo que indica que los dinosaurios han escapado de la isla y han sido reintroducidos en el ecosistema de la Tierra.',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710449772/Jurassic%20Park/Books/parke_jurassico_1_iy0zfj.jpg',
    },
    {
        title: 'Jurassic Park: El mundo Perdido',
        publication_year: 1995,
        saga_index: 2,
        author: 'Michael Crichton',
        resume: "En agosto de 1993, cuatro años después del desastre en Jurassic Park, el teórico del caos y matemático Ian Malcolm, quien se revela que ha sobrevivido a los eventos de la novela anterior, se encuentra y acepta a regañadientes asociarse con el rico paleontólogo Richard Levine. Los dos hombres intentan buscar un 'mundo perdido' de dinosaurios tras los rumores de extraños cadáveres de animales que aparecen en las costas de Costa Rica. Se enteran de Site B en Isla Sorna, la 'instalación de producción' donde la ahora desaparecida compañía InGen incubó y crió los dinosaurios para su parque temático Jurassic Park en la cercana Isla Nublar. Dieciocho meses después, temiendo que el gobierno costarricense encuentre Isla Sorna y destruya a los dinosaurios, Levine se embarca apresuradamente en una expedición a la isla sin Malcolm. Llega con un guía costarricense llamado Diego, pero poco después de llegar, los dos son atacados por dos criaturas misteriosas identificadas más tarde como un par de Carnotaurus que matan a Diego. Eventualmente, Malcolm se entera de que Levine ha desaparecido allí. Malcolm luego va a la isla con un equipo de rescate compuesto por Jack 'Doc' Thorne, un ingeniero y profesor universitario jubilado; Eddie Carr, asistente de Thorne; y dos niños que se escondieron, R. B. 'Arby' Benton y Kelly Curtis, quienes trabajaban como asistentes de investigación de Levine. La Dra. Sarah Harding, etóloga y amiga cercana de Malcolm, también es abordada para unirse a la expedición. Aunque al principio no está segura, finalmente decide reunirse con ellos allí.                                                                                                                                                                                                                                                                   El grupo llega a la isla con armas y un par de remolques RV especialmente equipados y fuertemente modificados que sirven como laboratorio móvil. Encuentran y exploran un complejo de edificios abandonados de InGen alimentado por geotermia, que incluye un pueblo de trabajadores y un laboratorio. También encuentran a Levine, quien está encantado con el tesoro de información que puede obtener de este 'mundo perdido' y no está agradecido por ser rescatado. Benton se despierta primero y logra acceder a la antigua red LAN de InGen, lo que les permite ver la isla a través de cámaras incorporadas. Simultáneamente, otro grupo, compuesto por el genetista Lewis Dodgson y su asistente Howard King, y el biólogo 'celebridad' George Baselton, se entera de la expedición de Levine y viaja a Isla Sorna de forma independiente. El nuevo grupo planea robar huevos de dinosaurio para Biosyn, la empresa rival de InGen responsable del sabotaje que llevó al desastre de Jurassic Park. Cuando están a punto de partir, se encuentran con Harding y le ofrecen llevarla en bote a Isla Sorna. Sin embargo, justo cuando se acercan a la isla, Dodgson intenta matarla empujándola fuera del bote. Sin embargo, ella sobrevive y logra encontrarse con el grupo de Malcolm en la isla. Levine y Malcolm hacen muchas observaciones del comportamiento de los dinosaurios desde el 'escondite alto', un ciego cerrado que está situado sobre el suelo en andamios. Pronto descubren que el grupo de Dodgson ha llegado a la isla. Mientras tanto, el grupo de Dodgson es atacado por un par de Tyrannosaurus mientras intentan robar huevos del nido de los animales, lo que resulta en la muerte de Baselton debido a que dio información incorrecta sobre la visión de un Tyrannosaurus. Dodgson y King se separan después del ataque.                                                                                                                                                                                                                                                                   Más tarde, mientras inspecciona el nido de T. rex, Malcolm encuentra que uno de los bebés ha resultado herido y tiene una pata rota. Instruye a Eddie que lo mate porque no tiene posibilidades de sobrevivir en la naturaleza. Sin que el grupo lo sepa, Eddie se niega a matar al animal herido y lo lleva de vuelta a los remolques. Cuando el grupo descubre al animal, Malcolm y Harding acuerdan a regañadientes colocarle un yeso alrededor de la pata mientras el resto del grupo regresa al escondite alto. A medida que se acerca la noche, los velocirraptores nocturnos emergen de la jungla y matan a King mientras intenta escapar. Mientras Malcolm y Harding terminan de colocar la pata del T. rex, los padres salen en busca de su cría y atacan los remolques, empujando uno de ellos por un acantilado e hiriendo a Malcolm. Thorne rescata a Malcolm y Harding, mientras los velocirraptores atacan el escondite alto y matan a Eddie, a pesar de la seguridad de Levine. A Malcolm se le inyecta una alta dosis de morfina que lo relaja, aunque no sin causarle alucinaciones como en la primera novela. Arby, atrapado en una jaula de supervivencia, es secuestrado por los velocirraptores pero luego es rescatado por Thorne, Kelly y Harding después de recuperar la llave de la jaula. El grupo luego se refugia de los velocirraptores en la tienda general del antiguo pueblo de trabajadores de InGen. El grupo intenta formular un plan para llegar al lugar de aterrizaje donde el helicóptero está programado para recogerlos por la mañana. Cuando Thorne se aventura en el pueblo en busca de combustible, sobrevive a un encuentro con el par de Carnotaurus camaleónicos. Levine y Harding ahuyentan a los Carnotaurus cambiando rápidamente los patrones de piel. Levine se vuelve irracional y Harding y Thorne tienen que calmarlo.A la mañana siguiente, Harding sale a recuperar uno de los vehículos del equipo que Thorne había dejado atrás mientras los salvaba a ella y a Malcolm del remolque, ya que puede ser el único vehículo lo suficientemente grande como para llevar a todos al punto de encuentro. Al encontrarlo, se encuentra con Dodgson intentando robar el vehículo para él. De repente, un T. rex adulto se acerca a ellos, y ambos se esconden bajo el coche. Harding empuja a Dodgson hacia afuera,",
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710449763/Jurassic%20Park/Books/parke_jurasico_2_q6svqy.jpg',
    },
    {
        title: 'Jurassic Park III',
        publication_year: 2001,
        saga_index: 3,
        author: 'J.K. Soctt Ciencin',
        resume: 'Después de ser persuadido por un empresario adinerado para realizar un tour aéreo de Isla Sorna, el segundo sitio de InGen para un fallido experimento de Jurassic Park, el Dr. Alan Grant (Sam Neill) descubre la verdadera razón de su invitación. Un trágico accidente deja varada a la fiesta de siete personas, y deben intentar escapar con su hijo perdido en la isla',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710520674/Jurassic%20Park/Movies/jurassic_park_iii_vpigy7.webp',
    },
    {
        title: 'La Evolucion de Claire',
        publication_year: 2018,
        saga_index: 4,
        author: 'Tess Sharpe',
        resume: 'Harry Potter es seleccionado para participar en el Torneo de los Tres Magos, una competencia peligrosa entre tres escuelas de magia. Mientras tanto, Lord Voldemort planea su regreso al poder.',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710521048/Jurassic%20Park/Books/9780525580720_qmcgy6.webp',
    },
]
mongoose
    .connect(process.env.DB_URL, {
        useNewUrlParser: true,
        useUnifiedTopology: true,
    })
    .then(async() => {
        const allBooksJurassicPark = await BookJurassicPark.find();
        if (allBooksJurassicPark.length > 0) {
            await BookJurassicPark.collection.drop();
            console.log('Libros borrados');
        }
    })
    .catch((err) => {
        console.log('error borrando los Libros', err);
    })
    .then(async() => {
        const booksJurassicPark = arrayBooksJurassicPark.map((book) => new BookJurassicPark(book));
        await BookJurassicPark.insertMany(booksJurassicPark);
        console.log('Libros insertados');
    })
    .catch((err) => {
        console.log('error insertando los Libros', err);
    })
    .finally(() => mongoose.disconnect());