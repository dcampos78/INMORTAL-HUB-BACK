const mongoose = require('mongoose');
const dotenv = require('dotenv');
dotenv.config();
const BookCrepusculo = require('../../api/models/models.Crepusculo/books.Crepusculo.model');
const BooksCrepusculo = require('../../api/models/models.Crepusculo/books.Crepusculo.model');


const arrayBooksCrepusculo = [
    {
        title: 'Crepúsculo',
        publication_year: 2005,
        saga_index: 1,
        author: 'Stephenie Meyer',
        resume: 'Bella Swan, una chica de diecisiete años deja Phoenix y se muda a Forks, un pequeño pueblo ubicado en la península Olímpica del estado de Washington, para vivir con su padre, Charlie, el jefe de policía de la ciudad. Su madre, Renée, se volvió a casar con Phil, un jugador de béisbol de ligas menores cuya carrera a menudo mantiene a la pareja viajando.En Forks, Bella se reencuentra con Jacob Black, un adolescente nativo americano de 15 años, que vive con su padre, Billy, en la Reserva India Quileute cerca de Forks. Hace amigos en su nueva escuela secundaria, pero encuentra particularmente intrigantes a los hermanos Cullen, misteriosos y reservados. Sentada junto a Edward Cullen en la clase de biología el primer día de clases, Bella nota que él parece repugnado por ella. Después de una semana de ausencia en la escuela, Edward regresa y socializa normalmente con Bella. Unos días más tarde, ella casi es atropellada por una camioneta que derrapa en el estacionamiento de la escuela. Edward instantáneamente se pone entre Bella y la camioneta, deteniéndola con una mano después de cubrir una distancia de más de nueve metros. Ella queda sorprendida e intrigada ante tal acción imposible de realizar de forma humana. Él se niega a explicar sus acciones a ella y la advierte que no se acerque a él. Jacob le cuenta a Bella sobre la animosidad de larga data entre los Cullen y los Quileutes y le dice que los Cullen no tienen permitido entrar en la reserva.Después de salvar a Bella por segunda vez de manera inesperada, Edward confirma que tiene habilidades misteriosas que recuerdan a las de un vampiro. Sin embargo, asegura que él y los demás Cullen solo consumen sangre de animales. A pesar de las advertencias de Edward, Bella se enamora de él y él la presenta a su familia vampírica. El patriarca de la familia, Carlisle Cullen, es un médico en el hospital de Forks, donde trabaja. Su esposa y matriarca de la familia, Esme, junto con Alice, Jasper, Emmett y Rosalie, son sus hijos adoptivos informales. La reacción de la familia a la presencia de Bella es mixta, preocupados de que el secreto de la familia pueda ser expuesto.La relación entre Edward y Bella corre peligro cuando tres vampiros nómadas, James, Victoria y Laurent, llegan a la zona de Forks y son responsables de una serie de muertes que se investigan como ataques de animales. James, un vampiro rastreador con instintos de caza increíbles, se emociona por el aroma de Bella y se obsesiona con cazarla como deporte. Edward y los demás Cullen protegen a Bella, pero James la rastrea hasta Phoenix, donde se esconde con Jasper y Alice.James atrae a Bella a una trampa en un viejo estudio de ballet. La ataca e infecta con el veneno de vampiro. Edward llega y, después de una feroz batalla, somete a James justo cuando llegan otros miembros de los Cullen. Alice, Emmett y Jasper matan a James, decapitándolo y quemándolo, mientras Edward elimina el veneno del brazo de Bella, evitando que se convierta en vampiro. En el caos que sigue, Bella sufre una pierna rota y es hospitalizada. Al volver a Forks, Edward acompaña a Bella al baile de promoción de la escuela secundaria, donde él rechaza su petición de convertirla en vampiro. Ignoran que la compañera de James, Victoria, los está vigilando en secreto, planeando vengarse por la muerte de su amado.',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710446448/Crepusculo/Books/1_book_Crepusculo_kaxnfs.webp',
    },
    {
        title: 'Luna Nueva',
        publication_year: 2006,
        saga_index: 2,
        author: 'Stephenie Meyer',
        resume: 'En su decimoctavo cumpleaños, Bella Swan despierta de un sueño en el que es una anciana y Edward Cullen, su novio vampiro inmortal, es siempre joven. A pesar de la falta de entusiasmo de Bella, la familia de Edward organiza una recepción de cumpleaños para ella en su residencia. Mientras desenvuelve un regalo, se corta con el papel. El hermano adoptivo de Edward, Jasper, se siente abrumado por el olor de la sangre e intenta atacarla, pero se contiene. Creyendo que él y su familia están poniendo la vida de Bella en peligro, Edward termina su relación y los Cullen abandonan Forks. Bella se queda muy deprimida y aislada durante meses. Charlie, su padre, preocupado, decide enviarla a vivir con su madre en Jacksonville, Florida. Bella se niega y promete pasar más tiempo con sus otros amigos de la escuela. Ella y Jessica ven una película. Bella se acerca a unos ciclistas de aspecto rudo fuera del teatro, para consternación de su amiga. El peligroso encuentro le recuerda un casi asalto anterior en el que su exnovio la rescató. Se imagina que lo ve y lo oye y se da cuenta de que las actividades que buscan emociones fuertes pueden evocar su imagen. Su amigo Quileute, Jacob Black, ayuda a aliviar su dolor involucrándola en varias actividades. Este menciona cuántos de sus amigos tribales siguen y obedecen a Sam, otro Quileute. Mientras va a ver una película con Bella y Mike, Jacob se va abruptamente después de sentirse inexplicablemente molesto y sufrir una fiebre ardiente. Bella conduce a la casa de este último después de que él evitara verla. Jacob se había cortado el pelo largo y ahora tiene el mismo tatuaje de Quileute en la parte superior del brazo derecho que Sam y otros miembros de la tribu, por lo que le dice que se mantenga alejada de él. Cuando Bella camina hacia el prado que ella y Edward visitaban a menudo, se enfrenta al compañero vampiro de Victoria, Laurent. Cuando está a punto de matarla, aparece una manada de lobos y lo ataca. Bella finalmente descubre que Jacob y los otros miembros de la tribu son cambiaformas que pueden convertirse en lobos gigantes. Sus enemigos ancestrales son los vampiros, aunque existe un tratado entre los Cullen y la tribu. Los miembros de la manada están actualmente en alerta por Victoria, el vampiro que busca vengar a su compañero, James, a quien Edward mató para proteger a Bella. Con Jacob concentrado en adaptarse a sus nuevos poderes de cambio de forma, Bella nuevamente se encuentra sola y regresa a buscar actividades que induzcan a la emoción, deliberadamente ajena a la presencia de Victoria, saltar de un acantilado, hasta que Jacob la rescata de ser ahogada.A través de una serie de malas comunicaciones, Edward cree que Bella se suicidó después de que su hermana, Alice, tuviera una visión de Bella saltando de un acantilado junto al mar. Angustiado, viaja a Italia para pedirles a los Volturi (un poderoso aquelarre que actúa como señores vampíricos) que acaben con su vida, ya que él es incapaz de hacerlo él mismo. Cuando rechazan su pedido, planea forzarlo exponiéndose como vampiro ante los humanos durante un gran festival. Alice regresa a Forks y se sorprende al descubrir que Bella todavía está viva.Ambas viajan a Italia para salvar a Edward, llegando a tiempo para evitar que se revele a sí mismo como un vampiro. Aliviado de que Bella esté viva, explica que solo dejó Forks para protegerla y promete que nunca más se irá. Este la defiende de Felix, uno de los Volturi, ya que estos no permiten que los humanos entren en la sociedad de vampiros, pero Edward es fácilmente derrotado. Cuando los Volturi están a punto de matar a Edward, Bella les pide que la maten a ella. Impresionados por la voluntad de un humano de sacrificar su vida por un vampiro, los Volturi determinan que Bella, que sabe que los vampiros existen, debe ser asesinada o transformada en vampiro. Alice comparte su visión de Bella como vampiro con Aro, un anciano Volturi capaz de leer pensamientos a través del tacto. Aro decide dejarlos ir después de obtener la promesa de que Bella se convertiría eventualmente. Después de regresar a Forks, les pide a los Cullen que voten para poder convertirla en vampira. Solo Edward y Rosalie votan no. Jacob le recuerda a Edward que el tratado de años con los Quileute se romperá si algún Cullen muerde a un humano. Bella le dice a Jacob que es su elección. Edward le dice a Bella que la convertirá en vampiro si Bella se casa con él.',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710446456/Crepusculo/Books/2_book_LunaNueva_tj4utc.webp',
    },
    {
        title: 'Eclipse',
        publication_year: 2010,
        saga_index: 3,
        author: 'Stephenie Meyer',
        resume: 'Riley Biers es atacado por Victoria, mientras ella está fuera creando un ejército conjunto de vampiros neófitos para destruir a Bella Swan. En Forks, Edward Cullen y Bella deben discutir acerca de las complicaciones de convertirse en un vampiro inmortal aunque Edward se niega a darle la inmortalidad hasta que estén casados y hasta que haya tenido diversas experiencias humanas. Mientras que Charlie Swan está investigando la desaparición de Riley Biers, Edward sospecha que su desaparición fue causada por los vampiros neófitos. A pesar de los temores de Edward por la seguridad de Bella, ella insiste en que Jacob y el resto de la manada hombre lobo no le haría daño, pero Edward sigue sin estar convencido. Bella va a La Push a ver a Jacob, y regresa a su casa a salvo. Durante una de sus visitas, Jacob confiesa que está enamorado de Bella, y la besa sin su consentimiento. Furiosa, lo golpea y se esguinza la mano, y luego Edward amenaza a Jacob con “romperle la mandíbula”. Bella incluso revoca las invitaciones de Jacob y sus miembros de la manada a su fiesta de graduación, pero cuando Jacob se disculpa por su comportamiento, ella finalmente lo perdona. Mientras tanto, Alice tiene una visión del ejército de los neófitos, atacando a Forks y siendo dirigido por Riley Biers. Jacob, acompañado por Quil y Embry escuchan esto, lo que conduce a una alianza entre los Cullen y los hombres lobo. Más tarde, los Cullen y los lobos acuerdan un lugar de encuentro y el tiempo para entrenar y discutir la estrategia. Durante el entrenamiento Jasper le explica a Bella que fue creado por un vampiro llamado María que controlaba un ejército de neófitos. También le confiesa que odiaba a su existencia original y al encontrarse con Alice, se unió a los Cullen. Bella se da cuenta de que pasar la eternidad con Edward es más importante para ella que cualquier otra cosa y acepta su propuesta. Edward y Bella hacen un campamento en las montañas para esconderse de los neófitos sedientos de sangre. Durante la noche, Bella escucha una conversación entre Edward y Jacob, en el que temporalmente dejan a un lado su odio. Por la mañana, Jacob escucha Edward y Bella discutir sobre su compromiso de boda y él se molesta mucho. Antes de que pueda salir a hacerse matar en la lucha con los neófitos, Bella le pide desesperadamente a Jacob que la bese, y ella se da cuenta de que se ha enamorado de él. Edward se entera del beso entre Jacob y Bella, pero ella le dice que lo ama más a él que a Jacob, algo que Edward sabe y que hace que no se moleste. Victoria encuentra el escondite de Bella, y Edward la mata a ella mientras Seth mata a su pareja Riley. Los Cullen y los lobos Quileute, mientras tanto, destruyen a su "ejército", aunque Jacob sale herido. Varios miembros de los Volturi llegan para hacer frente al ejército de neófitos. También ven que los Cullen están dando asilo a la neófita, Bree Tanner, que se negó a luchar y se entregó a Carlisle. Jane tortura a Bree para obtener información, a continuación, Félix se encarga de Bree y la mata, a pesar de los esfuerzos de los Cullen. Bella visita a Jacob en su casa para decirle que aunque ella lo ama, ha elegido estar con Edward. Decepcionado por su elección, Jacob acepta a regañadientes dejar de interponerse entre ella y Edward. Bella y Edward van a su prado, donde ella le dice que ha decidido hacer las cosas a su manera: casarse, formar una familia, y entonces así transformarse en un vampiro, y deciden que necesitan contarle su compromiso a Charlie. La película termina con Bella pidiendo su anillo de compromiso, Edward se lo pone y se abrazan.',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710446472/Crepusculo/Books/3_book_Eclipse_abpdgv.webp',
    },
    {
        title: 'Amanecer',
        publication_year: 0,
        saga_index: 4,
        author: 'Stephenie Meyer',
        resume: 'La novela comienza con la boda de Bella Swan y Edward Cullen en la ciudad de Forks. La ceremonia reúne a amigos y familiares, incluidos los miembros de la familia Cullen y los amigos humanos de Bella. A pesar de algunos nervios y tensiones, la boda transcurre sin problemas, y la pareja se embarca en una luna de miel a una isla privada en Brasil. Durante la luna de miel, Bella y Edward finalmente consuman su matrimonio, y Bella queda embarazada. Sin embargo, este embarazo es rápido y complicado, ya que el bebé crece a un ritmo alarmante y pone en peligro la vida de Bella. Edward y los demás Cullen están preocupados por la seguridad de Bella y no están seguros de cómo manejar la situación. A medida que el embarazo progresa, Bella se debilita rápidamente y su vida se vuelve cada vez más frágil. Edward y los Cullen se enfrentan a una carrera contra el tiempo para salvarla y al bebé no nacido. Mientras tanto, Jacob Black, quien tiene fuertes sentimientos por Bella, se encuentra en una posición difícil ya que lucha por aceptar la situación y proteger a Bella al mismo tiempo. Finalmente, Bella da a luz a una niña, Renesmee, que resulta ser mitad humana y mitad vampira. A pesar de las preocupaciones y los desafíos que enfrentan, los Cullen y los lobos Quileute acuerdan proteger a Renesmee y a Bella. Sin embargo, la noticia del nacimiento de Renesmee llega a los oídos de los Volturi, el poderoso clan de vampiros que gobierna el mundo vampírico. Los Volturi ven a Renesmee como una amenaza para la existencia secreta de los vampiros y deciden confrontar a los Cullen. Esto lleva a una tensa confrontación en la que Bella, Edward, Renesmee y sus aliados luchan por demostrar que Renesmee no es una amenaza para el mundo vampírico. La situación se resuelve pacíficamente cuando los Volturi se dan cuenta de que han sido engañados y que Renesmee es una criatura única y no peligrosa. Con la amenaza de los Volturi disipada, Bella y Edward pueden finalmente disfrutar de su vida juntos como una familia completa. "Amanecer" concluye con un epílogo que muestra un vistazo al futuro de Bella y Edward, así como de los demás personajes, mientras continúan su vida en paz y felicidad.',
        picture: 'https://res.cloudinary.com/dqh5ovfj1/image/upload/v1710446464/Crepusculo/Books/4_book_Amanecer_frvswd.webp',
    },
]
mongoose
    .connect(process.env.DB_URL, {
        useNewUrlParser: true,
        useUnifiedTopology: true,
    })
    .then(async() => {
        const allBooksCrespusculo = await BookCrepusculo.find();
        if (allBooksCrespusculo.length > 0) {
            await BookCrepusculo.collection.drop();
            console.log('Libros borrados');
        }
    })
    .catch((err) => {
        console.log('error borrando los Libros', err);
    })
    .then(async() => {
        const booksCrespusculo = arrayBooksCrepusculo.map((book) => new BooksCrepusculo(book));
        await BookCrepusculo.insertMany(booksCrespusculo);
        console.log('Libros insertados');
    })
    .catch((err) => {
        console.log('error insertando los Libros', err);
    })
    .finally(() => mongoose.disconnect());